---
tags:
  - 计算机网络
---

# 数据链路层

数据链路层的主要任务是实现帧在一段链路上或一个网络中进行传输。数据链路层协议有多种，但是有三个基本问题是共同的，即**封装称帧、透明传输、差错检测**。

数据链路层使用的信道主要有两种：
1. **点对点信道**，使用一对一的通信方式。PPP 协议就是目前使用最广泛的点对点协议。
2. **广播信道**，这种信道上连接的主机很多，使用一对多的广播通信方式。采用共享广播信道的有线局域网普遍使用 CSMA/CD 协议，而无线局域网则使用 CSMA/CA 协议。

## 数据链路层的功能

数据链路层使用物理层提供的*比特传输*服务，为网络层提供服务，将网络层的 *IP 数据报*(分组)封装成帧，传输给下一个相邻节点。下面是一些基本概念。
- **链路**(链路)：指从一个节点到相邻节点的一段物理线路。当进行数据通信时，两台计算机之间的通信路径往往要经过多段这样的链路。也称为**物理链路**，即传输介质(0 层)与物理层(1 层)实现的相邻节点间的物理链路。
- **数据链路**(逻辑链路)：当在一条链路上传输数据时，除了需要链路本身，还需要一些必要的通信协议来控制这些数据的传输，把实现这些协议的硬件和软件加到链路上，就构成了数据链路。
- **帧**：数据链路层对等实体之间进行逻辑通信的协议数据单元。数据链路层把网络层下交的数据构成帧发送到链路上，并把接受到的帧中的数据取出并上交给网络层。



### 为网络层提供服务

数据链路层通常可以为网络层提供如下三种服务：
1. **无确认的无连接服务**：源主机发送帧时不需要先建立链路连接，目的主机收到帧时不需要发回确认。数据传输的可靠性由高层负责。适用于误码率较低的信道，如以太网。
2. **有确认的无连接服务**：源主机发送帧时不需要建立链路连接，但目的主机收到帧时必须发回确认。源主机在所规定的时间内未收到确定信号时，就重传丢失的帧，以提高传输的可靠性。该服务适用于误码率较高的信道，如无线信道。
3. **有确认的面向连接服务**：帧传输过程分为三个阶段：建立链路、传输帧、释放链路。目的主机对收到的每一个帧都要返回确认。该服务适用于可靠性要求较高的场合。

### 链路管理

数据链路层连接的建立、维持和释放过程称为**链路管理**，它主要用于面向连接的服务。链路两端的节点要进行通信，必须首先确认对方以处于就绪状态，并交换一些必要的信息以对帧序号初始化，然后才能建立连接。在传输过程中要能维持连接，而在传输完毕后要释放该连接。

### 封装成帧与透明传输