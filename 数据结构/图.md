---
tags:
  - 数据结构与算法
---
# 图

图 $G$ 是由顶点集 $V$ 和边集 $E$ 组成，记为 $G(V,E)$
- $V(G)$ 表示图 $G$ 中顶点的有限非空集，使用 $V=\left\{ v_{1},v_{2},\cdots,v_{n} \right\}$ 来描述一个图中的所有顶点，使用 $\left| V \right|$ 来代表顶点集的大小；
- $E(G)$ 表示图 $G$ 中顶点之间的关系集合，使用 $E=\left\{ \left( u,v \right)\mid u\in V,v\in V \right\}$ 来描述图中的边，使用 $\left| E \right|$ 来表示图 $G$ 中边的条数；

图可以用于建模复杂的多对多关系，每个实体与多个实体相连。在图论中，图作为主要的研究对象，引申出了一门完整的、严谨的数学体系。我们接下来提到的概念都来自图论。

> [!note]
> 线性表可以是空边，树可以是空树，但是图不能是空图，也就是说，图中不能一个顶点也没有。即，图的顶点集 $V$ 一定非空，但是边集 $E$ 可以为空。

## 关于图的概念与术语

图是一种复杂的数据结构，因此关于它的概念很多。

> [!definition|Definition] 有向图
> 若 $E$ 是有向边 (也称弧) 的有限集合，则图 $G$ 为有向图。在有向图中，使用 $<v,w>$ 来描述从 $v$ 指向 $w$ 的有向弧，$v$ 称为弧尾，$w$ 称为弧头，描述为从 $v$ 到 $w$ 的弧，也称 $v$ 邻接到 $w$。

> [!definition|Definition] 无向图
> 若 $E$ 是无向边 (简称边) 的有限集合，则图 $G$ 为无向图。边是顶点的无序对，记为 $(v,w)$ 或者 $(w,v)$。可以说 $w$ 和 $v$ 互为邻接点，或者 $(v,w)$ 依附于 $v$ 和 $w$，或称边 $(v,w)$ 和 $v,w$ 相关联。

除了上面定义的两种主要结构，我们还使用一些其他图的定义：
1. 简单图、多重图：若不存在重复边、顶点到自身的边，则称图为简单图。在我们的讨论中，不涉及重复的边、到自身的边，因此我们讨论的主要为简单图。
2. 完全图：对于无向完全图，任意两个顶点之间都存在边。对于有向完全图，任意两个顶点都有两条方向相反的弧。
3. 子图：设有两个图 $G=(V,E)$ 和 $G'=(V',E')$，若 $V'\subseteq V$，$E'\subseteq E$，则称 $G'$ 是 $G$ 的子图。若 $V(G')=V(G)$，则 $G'$ 称为 $G$ 的生成子图。
4. 稠密图、稀疏图：边数很少的图称为稀疏图，反之为稠密图。稀疏与稠密是模糊的概念，一般而言，当图满足 $\left| E \right|<\left| V \right|\log \left| V \right|$ 时，可以将图视为稀疏图。
5. 有向树：一个顶点的入度为 0，其余顶点的入度均为 1 的有向图，称为有向树。

关于图的描述，我们定义下面的基本概念：
1. 顶点的度：
	- 在无向图中，顶点 $v$ 的度指与顶点 $v$ 相连的边数，记为 $\text{TD}(v)$。
	- 在有向图中，以顶点 $v$ 为起点的边数称为出度，记为 $\text{OD}(v)$；以顶点 $v$ 为终点的边数称为入度，记为 $\text{ID}(v)$。顶点 $v$ 的度为出度与入度之和，即 $\text{TD}(v)=\text{ID}(v)+\text{OD}(v)$。
2. 边的权和网：在同一个图中，每条边都可以标上具有某种含义的数值，该数值称为该边的权值。这种边上带权值的图称为带权图，也称为网。
3. 路径：从顶点 $v_{p}$ 到顶点 $v_{q}$ 之间的一条路径指顶点序列 $v_{p},v_{i_{1}},v_{i_{2}},\cdots,v_{q}$。
4. 路径长度：路径上边的数目。
5. 回路：第一个顶点和最后一个顶点相同的路径称为回路或环，若一个图有 $n$ 个顶点，且大于 $n-1$ 条边，则此图一定有环。
6. 简单路径：路径序列中，顶点不重复出现的路径。
7. 简单回路：回路中，除了第一个顶点和最后一个顶点外，其余顶点不重复出现的回路。
8. 距离：从顶点 $u$ 出发到顶点 $v$ 的最短路径存在，则此路径的长度称为 $u$ 到 $v$ 的距离。若不存在路径，则距离记为 $\infty$。

对于无向图，我们可以定义其连通性：
1. 连通：若无向图中顶点 $v$ 到顶点 $w$ 有路径存在，则称 $v$ 和 $w$ 是连通的。
2. 连通图：无向图 $G$ 中任意来两个顶点都是连通的，则称 $G$ 是连通图，否则为非连通图。
3. 连通分量：无向图中的极大连通子图称为连通分量。

对于有向图，我们定义其连通性为：
1. 强连通：若有向图中，既存在顶点 $v$ 到顶点 $w$ 的路径，又存在顶点 $w$ 到顶点 $v$ 的路径 ，则称 $v$ 和 $w$ 是强连通的。
2. 强连通图：有向图 $G$ 中任意两个顶点都是强连通的，则称该图为强连通图。
3. 强连通分量：有向图中的极大强连通子图称为有向图的强连通分量。

在前面的定义下，我们可以更进一步定义：
1. 生成树：包含图中所有顶点的一个极小连通子图^[边要尽可能的少，但要保持连通。若去掉一条边，则变成非连通图]。
2. 生成森林：在非连通图中，连通分量的生成树构成了非连通图的生成森林。

## 图的存储及基本操作

图的存储必须要完整、准确的反映顶点集和边集的信息，根据不同图的结构和算法，采用不同的存储方式将对程序的效率产生相当大的影响。

### 邻接矩阵

使用邻接矩阵存储，是值用一个一维数组存储图中的顶点信息，用一个二维数组存储图中边的信息。存储顶点之间邻接关系的二维数组称为**邻接矩阵**。

设顶点数为 $n$ 的图 $G=(V,E)$ 的邻接矩阵 $A$ 是 $n\times n$ 的，将 $G$ 的顶点编号为 $v_{1},v_{2},\cdots,v_{n}$，则邻接矩阵为
$$
A[i][j]=\begin{cases}
1,&(v_{i}, v_{j})\in V\ \text{或者}\ <v_{i},v_{j}>\in V \\
0,&(v_{i}, v_{j})\notin V\ \text{或者}\ <v_{i},v_{j}>\in V \\
\end{cases}
$$