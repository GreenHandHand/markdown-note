---
tags: Rust
---

# 编程相关概念

## 静态与动态

- **静态类型语言**(Dynamic)：编译时检查类型
    - 错误检测：早 (在执行前)
    - 代码灵活性：低
    - 性能：通常更快
    - 例如：Rust, Java, C#
- **动态类型语言**(Static)：运行时检查类型
    - 错误检测：晚 (在执行时)
    - 代码灵活性：高
    - 性能：可能会更慢
    - 例如：Python, JavaScript, Ruby
- **弱类型语言**(Weak)：对数据类型的赋值约束少/无约束
    - 数据类型声明：显式或隐式
    - 类型约束：严格
    - 类型转换：需要显式进行
    - 隐式转换：少见/罕见
    - 错误检查：多在编译时
    - 类型安全性：高，较少出现意外行为
    - 例子：Rust, Java, Python
- **强类型语言**(Strong)：对数据类型的赋值进行规则约束
    - 数据类型声明：隐式
    - 类型约束：宽松
    - 类型转换：隐式进行
    - 隐式转换：常见
    - 错误检查：多在运行时
    - 类型安全性：低，更容易出现不可预测的结果
    - 例子：JavaScript, PHP

> [!example]-
> ![[image/常量与变量-1.png]]

> [!tip] c 和 c++ 为什么是弱类型语言？
> C 和 C++ 被归类为弱类型语言，主要基于它们允许隐式类型转换和对指针操作的灵活性。尽管 C++ 在类型安全方面有所增强（如引用、模板），但其继承自 C 的隐式转换特性仍使其属于弱类型语言。这一分类更多是历史设计选择的结果，而非语言本身的缺陷。

## 解释与编译

- **编译型语言** (Compiled)：源代码在运行前编译成机器码
    - 编译过程：需要编译步骤来生成可执行文件。
    - 编译时间：编译大型项目可能耗时较多。
    - 依赖性：只需要二进制文件和必要的库就可以执行。
    - 可移植性：需要为不同品平台重新编译。
    - 内存使用：通常更节省内存，编译时会进行优化。
    - 优点：运行速度快
    - 缺点：编译时间长
    - 例子：C, C++, Rust, Go
- **解释型语言** (Interpreted)：源代码在运行时逐行解释执行
    - 编译过程：无需编译，代码直接由解释器执行。
    - 编译时间：及时反馈，无需编译。
    - 依赖性：需要安装解释器才能执行代码。
    - 可移植性：任何有解释器的平台都可以运行。
    - 内存使用：由于解释开销，可能占用更多的内存。
    - 优点：编译时间短
    - 缺点：运行速度慢
    - 例子：Python, JavaScript, Ruby

> [!note] C# 与 Java 属于什么语言？
> Java 与 C# 属于 **Intermediate Approach**，即中间型语言。这里以 C# 为例，C# 在第一步编译过程生成中间语言代码 IL，然后用户在执行时，使用.NET 的 JIT 编译器将 IL 编译成机器码。这种方式结合了编译型语言和解释型语言的优点，即编译时间短，运行速度快。

## 栈与堆

一般在讨论内存管理时，数据存储在两个地方：栈和堆。
- **栈** (Stack)：存放函数的参数值、局部变量的值等。栈是一种后进先出 (LIFO) 的数据结构，由系统自动分配和释放。
    - 优点：快速分配，系统自动释放
    - 缺点：存储空间有限，不适合存储大量数据
- **堆** (Heap)：存放动态分配的内存，由程序员分配和释放。
    - 优点：存储空间大，适合存储大量数据
    - 缺点：分配和释放速度慢，容易产生内存泄漏

> [!note] 常见的堆内存管理问题
> 1. 双重释放 (Double Free)：释放已经释放的内存。
> 2. 内存泄漏 (Memory Leak)：分配内存后，没有释放。

> [!tip] 所有权
> 所有权是一组规则，用于管理 Rust 程序如何处理内存。它在没有垃圾回收器的情况下，帮助确保程序的内存安全。

---
| [[Rust/基本语法与数据类型|基本语法与数据类型]] >
