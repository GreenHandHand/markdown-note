---
tags:
  - 软件工程
---

# 总体设计

总体设计的基本目的就是回答*概括地说，系统应该如何实现*这个问题，因此，总体设计又称为概要设计或初步设计。通过这个阶段的工作将划分出组成系统的物理元素——程序、文件、数据库、人工过程和文档等，但是每个物理元素仍然处于黑盒子级，这些黑盒子里的具体内容将在以后仔细设计。

总体设计阶段另一个重要任务是设计软件的结构，也就是要确定系统中每个程序是由哪些模块组成，以及这些模块相互间的关系。

> [!note] 总体设计的必要性
> 可以站在全局高度上，花较少成本，从较抽象的层次上分析对比多种可能的系统实现方案和软件结构，从中选出最佳方案和最合理的软件结构，从而用较低成本开发出较高质量的软件系统。

## 设计过程

总体设计过程通常由两个主要阶段组成：
- 系统设计阶段：确定系统的具体实现方案。
- 结构设计阶段：确定软件结构。

典型的总体设计过程包括以下 9 个步骤：
1. 设想供选择的方案。
2. 选取合理的方案
3. 推荐最佳方案。
4. 功能分解。
5. 设计软件结构。
6. 设计数据库。
7. 制定测试计划。
8. 书写文档。
9. 审查和复审。

## 设计原理

在软件设计过程中应该遵循以下基本原理：
1. **模块化**：把复杂的问题分解成许多容易解决的小问题，原来的问题也就容易解决了。
2. **抽象**：把相似的方面集中和概括起来，暂时忽略它们之间的差异。抽象出蛇舞的本质特性而暂时不考虑它们的细节。
3. **逐步求精**：为了集中精力解决主要问题而尽量推迟对问题细节的考虑。
	1. 通过逐步分解对功能的宏观陈述而开发出层次结构，直到最终得出用程序设计语言表达的程序。
	2. 抽象与求精是一对互补的概念。抽象使得设计者能够说明过程和数据，同时忽略了底层细节。求精则帮助设计者在设计过程中逐步揭示出底层细节。
4. **信息隐藏和局部化**：
	1. 信息隐藏原理：应该这样设计和确定模块，使得一个模块内包含的信息对于不需要这些信息的模块来说，是不能访问的。
	2. 局部化：把一些关系密切的软件元素物理地放得彼此靠近。
5. **模块独立**：模块独立是模块化、抽象、信息隐藏和局部化概念的直接结果。模块的独立程度可以由两个定性标准度量：
	1. 耦合：对一个软件结构内不同模块之间互连程度的度量。耦合强弱取决于模块间接口的复杂程度，进入或访问一个模块的点，以及通过接口的数据。 ^234f5f
	2. 内聚：标志着一个模块内各个元素彼此结合的紧密程度。简单来说，理想内聚的模块只做一件事情。 ^c125b1

> [!note] 耦合
> 1. **数据耦合**：两个模块彼此间通过参数交换信息，而且交换的信息仅仅是数据。*数据耦合是低耦合*。
> 2. **控制耦合**：如果传递的信息中有控制信息，则称为控制耦合。控制耦合是中等程度的耦合，*往往是多余的*。
> 3. **特征耦合**：把整个数据结构作为参数传递而被调用的模块只需要使用其中一部分数据元素。
> 4. 公共环境耦合：两个或多个模块通过一个公共数据环境相互作用。
> 5. **内容耦合**：一个模块访问另一个模块内部数据，或不通过正常入口转到另一个模块内部，或一个模块有多个入口 (多种功能)。**应该坚决避免使用内容耦合**。

> [!tip] 尽量使用数据耦合，少用控制耦合和特征耦合，限制公共环境耦合的范围，完全不用内容耦合。

> [!note] 内聚
> 1. 偶然内聚：一个模块完成一组任务，这些任务彼此间即使有关系，关系也很松散。例如，完成一个程序后，发现一组语句在两处或多处出现，于是把这些语句作为一个模块以节省内存。
> 	- 时间内聚：一个模块包含的任务必须在同一段时间内执行。
> 	- 逻辑内聚：一个模块完成的任务在逻辑上属于相同或相似的一类。
> 2. 中内聚：
> 	- 过程内聚：一个模块内的处理元素是相关的，而且必须以特定次序执行。
> 	- 通信内聚：模块内的所有元素都使用同一输入数据，产生同一个输出数据。
> 3. 高内聚：
> 	- 顺序内聚：一个模块内的处理元素和同一个功能密切相关，且这些处理必须顺序执行。
> 	- 功能内聚：模块内所有处理元素属于同一个整体，完成单一的功能。

## 启发规则

人们在开发计算机软件的长期实践中积累了丰富的经验，总结这些经验得到了启发式规则。
1. 改进软件结构提高模块独立性。
2. 模块规模应该适中。
3. 深度、宽度、扇出和扇入都应当适当。
4. 模块的作用域应该在控制域之内。
5. 力争降低模块接口的复杂程度。
6. 设计单入口单出口的模块。
7. 模块功能应该可以预测。

## 软件结构图

结构图和层次图类似，也是描绘软件结构的图形工具。
1. 方框：图中一个方框代表一个模块，框内注明模块的名字或主要功能。
2. 箭头(直线)：表示模块的调用关系。按照惯例，总是图中位于上面的模块调用位于下方的模块，因此即使不用箭头也不会产生二义性。

---
< [[00_Inbox/软件工程/需求分析|需求分析]] | [[00_Inbox/软件工程/详细设计|详细设计]] >
