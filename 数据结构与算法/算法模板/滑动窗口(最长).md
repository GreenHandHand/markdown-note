---
tags:
  - 数据结构与算法
---

# 滑动窗口-最长问题

滑动窗口法，也叫尺取法，可以用来计算一些连续区间的问题。*滑动窗口算法是双指针算法的一种*。

其核心思想是维护一个窗口，该窗口在遍历数据结构时会动态调整大小和位置，从而实现对特定条件的搜索、统计或其他操作。滑动窗口方法可以显著减少不必要的重复计算，提高算法效率。

> [!note] 该模板用于解决==最长==**字串**、**子数组**、**连续子区间**的问题。

## 算法原理

1. 初始化窗口的边界（起始点和结束点），通常从数据结构的第一个元素开始。
2. 扩展窗口：根据题目要求移动窗口的结束边。
3. 收缩窗口：一旦==不满足==条件，则尝试通过移动窗口的起始边来优化结果，并记录当前最佳解。
4. 重复上述过程，直到遍历完所有可能的窗口位置。
5. 返回最优解或所需的结果。

## 框架

```cpp
// 定长滑动窗口
int slideWindow(string &s, int k){
	int n = s.length(), l = 0, sum = 0, res = 0;
	for(int r = 0; r < n; r++){
		// 加入 r
		sum += s[r];
		// 如果不满足条件，则缩减 l
		while(l <= r && check(sum)){
			sum -= s[l];
			l++;
		}
		// 缩减过后的结果一定满足条件
		res = max(res, sum);
	}
	return res;
}
```

## 复杂度分析

滑动窗口在大多数情况下的时间复杂度都可以控制在 $O(n)$ 数量级，将空间复杂度控制在 $O(1)$ 数量级，是一种非常高效的算法。

对于复杂的问题，常利用 HashMap，会使得空间复杂度上升到 $O(n)$。

## 参考资料

- [1004. 最大连续1的个数 III - 力扣（LeetCode）](https://leetcode.cn/problems/max-consecutive-ones-iii/description/)
