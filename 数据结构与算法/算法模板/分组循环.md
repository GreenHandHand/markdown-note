---
tags:
  - 数据结构与算法
---

# 分组循环

分组循环是一种用于处理数组或列表中连续段落的方法，特别适用于当这些段落需要按照一定的规则进行分割时。它通过遍历和处理数据来确保每个段落都被正确地分析和计算。

> [!note] 一般用于解决==最长==**字串**、**子数组**、**连续子区间**的问题。

> [!example]
> 例如，寻找 `[1,2,3,2,1,2,1,1,2,3]` 中的最大递增子数组时，可以将其分组为 `[[1,2,3],2,[1,2],1,[1,2,3]]`，同时在分组的过程中记录其中的最大子数组即可。

## 算法原理

- 外层循环：
	- 初始化：设置外层循环以遍历整个数组，负责初始化每组的起点，并在每组结束后更新答案。
		- 内层循环：
			- 扩展子数组：内层循环用来遍历当前组内的元素，确定这组的最大范围。
			- 检查条件：通过检查元素是否符合题目要求，决定内层循环何时停止。
	- 记录结果：一旦找到满足条件的一组，就更新最优解（例如最长的子数组长度）。
	- 继续到下一个可能的起始点，重复上述过程直到遍历完整个数组。

## 框架

```cpp
int cycleGroup(vector<int>& nums){
	int n = nums.size(), i = 0, res = 0;
	while(i < n){
		int start = i;
		while(i < n && check(nums, i)){
			i++;
		}
		// [start, i-1] 为一组
		// 下一组从 i 开始, 这里不需要进行 i++
		update(res);
	}
	return res;
}
```

## 复杂度分析

- 时间复杂度：$O(n)$，尽管看起来像是嵌套了两个循环，但由于变量 i 只增不减，因此每个元素最多只会被访问两次，一次在外层循环，另一次在内层循环，整体时间复杂度仍为 $O(n)$。
- 空间复杂度：$O(1)$。仅用到了若干额外变量。

## 参考资料

- https://leetcode.cn/problems/longest-even-odd-subarray-with-threshold/solutions/2528771/jiao-ni-yi-ci-xing-ba-dai-ma-xie-dui-on-zuspx
