---
tags:
  - 数据挖掘
---
# 认识数据

[[数据预处理]] 是 [[数据挖掘]] 的第一个步骤，但是在那之前，我们需要对数据有一个系统的认识。现实世界中的数据一般有噪声、数量庞大并且可能来自异种数据源。要处理这些数据，我们需要知道：
- 数据由什么类型的属性或者字段组成？
- 每个属性有什么数据值？
- 哪些属性是离散的，哪些属性是连续的？
- 数据看上去如何、值如何分布？
- 如何可视化数据、可以看出离群点吗？
- 怎样度量某些数据对象与其他数据对象的相似性？

洞察数据有利于之后的分析。之后我们再对数据进行预处理。

## 数据对象和属性类型

数据集由数据对象组成，一个数据对象代表一个实体，数对象又称样本、实例、数据点或者对象。如果数据对象存放在数据库中，那么它就是数据元组，也就是说，数据库的行对应数据对象，列对应属性。

### 属性

属性 (attribute) 是一个数据字段，表示数据对象的一个特征。在文献中，属性、维度 (dimension)、特征 (feature) 和变量 (variable) 表达的是同一个意思。给定属性的观测值称为观测，用来描述一个给定对象的一组属性称为属性向量 (特征向量)。对于只涉及一个属性的数据分布称为单变量的 (univariate)。

一个属性的类型由该属性可能具有的所有的值的集合决定，属性可以是标称的、二元的、序数的或数值的。

### 标称属性

标称属性 (nominal attribute) 的值是一些符号或者事物的名称，每个值代表某种类型、编码或状态，因此标称属性也被称为分类的，在计算机科学中，这些值也被称为枚举的。

由于标称属性不具有有意义的序，并且不是定量的，因此对于一个对象集，标称属性的均值、中位数没有意义，但是众数 (mode) 具有特殊的意义，这是一种 [[#中心趋势度量]]。

### 二元属性

二元属性 (binary attribute) 是一种标称属性，只有两种类别或者状态，即 0 或者 1。其中 0 通常表示该属性不出现，1 表示该属性出现。二元属性又称为布尔属性，对应 true 和 false。

如果一个二元属性的两个状态同等价值，不分先后，称为对称的，例如性别中的男女。如果一个二元属性的两个状态不是同等重要的，称为非对称的。如 HIV 的阴性与阳性，为了方便，一般将重要的结果（通常是稀有的）编码为 1，即将 HIV 的阳性编码为 1。

### 序数属性

序数属性 (ordinal attribute) 是一种值有顺序的属性，它可能的值通过有意义的序或秩 (rank) 评定，但是相继的值之间的差的未知的。

对于记录不能客观度量的主观质量评估，序数属性是有用的，如在评测中使用的 5 星评价等。序数属性的中心趋势可以使用它的众数和中位数来表示，但是不能定义均值。

标称属性、二元属性、序数属性都是定性的，即只能描述对象的特征，而不能给出实际的大小或者数量。

### 数值属性

数值属性 (numeric attribute) 是定量的，即它是可度量的量，用整数或实数表示。数值属性可以是区间标度的或比率标度的。

#### 区间标度属性

区间标度 (interval-scaled) 属性用相等的单位尺度度量，区间属性的值有序，可以为正、0、负。因此除了值的秩评定之外，这种属性允许我们比较和定量评估值之间的差。例如摄氏度、华氏度作为温度属性。

#### 比率标度属性

比率标度 (ratio-scaled) 属性是具有固有零点的数值属性，也就是说如果度量是比率标度的，则我们可以说一个值是另一个的倍数。如开尔文作为温度属性。

### 离散属性与连续属性

机器学习领域将属性分为了离散的或者连续的，每种属性可以使用不同的方法进行处理。离散属性具有有限或者无限个可能的值，可以用或者不用整数表示。如果一个属性不是离散的，那么他就是连续的。

## 数据的基本统计描述

对于成功的数据预处理而言，把握数据的全貌至关重要，基本统计描述可以用来识别数据的性质，凸显哪些数据值应该视为噪声或者离群点。下面讨论中心趋势度量、数据的散布度量、数据的方差和标准差。

### 中心趋势度量

中心趋势度量描述了数据分布的中部或中心位置。直观的说，给定一个属性，它的值大部分将分别在什么位置。

#### 均值

数据集的中心，最常用、最有效的度量是（算术）均值。即对于一个数值属性 $X$ 的 $N$ 个观测，该值集合的均值为
$$
\bar x=\dfrac{\sum_{i=1}^N x_i}{N}
$$
有时，每个 $x_i$ 可以与一个权重对应。权重反映了对应值的意义、重要性或出现的频率。在这种情况下，加权算术均值为
$$
\bar x=\frac{\sum_{i=1}^N w_ix_i}{\sum_{i=1}^Nw_i}
$$
均值虽然是描述数据集的最有用的单个的量，但是它对于极端值很敏感。为了抵消少数极端值的影响，我们可以使用结尾均值 (trimmed mean)，即舍弃了一部分高端和低端值后再计算平均值。

#### 中位数

对于倾斜（非对称）数据，中位数 (median) 是一个更好的度量。中位数是数据集中大小居中的数，对于偶数大小的数据集，使用中间两个数的均值作为中位数。

由于中位数需要进行排序，因此计算开销大于均值。对于数值属性，可以近似计算中位数，即利用频率直方图计算，可以得到
$$
median = L_1 + \left(\frac{N/2-(\sum freq)_l}{freq_{median}}\right)width
$$
其中 $L_1$ 是中位数所在区间的下界，$N$ 是整个数据集中值的个数，$(\sum freq)_l$ 是低于中位数区间的所有区间的频率和，$freq_{median}$ 是中位数区间的频率，而 $width$ 是中位数区间的宽度。

#### 众数、中列数

数据集的众数是集合中出现次数最多的数。可能对应的最高频率对应多个不同的值，导致多个众数，具有一个、两个、三个众数的数据集称为单峰的、双峰的和三峰的。对于单峰的数值数据，可以下面的经验关系：
$$
mean-mode\approx 3\times (mean - median)
$$

中列数也可以用于评估数据的中心趋势，定义为数据集最大值和最小值的平均值。

### 度量数据散布

数据的散布表示数据的分散程度，这些度量包括极差、分位数、四分位数、百分位数和四分位数极差。五数概括可以使用盒图（箱线图）表示，它对于识别离群点是有用的。另外，方差和标准差也可以指出数据的散布。

#### 极差、四分位数和四分位数极差

设 $x_1,x_2,\cdots,x_N$ 是某数值属性 $X$ 上观测的集合。那么：
- 极差 (range)：最大值与最小值之差
- 分位数 (quantile): 取自数据分布的每隔一定间隔上的点
	- 二分位数：取一个数据点，将数据分为大小两半，对应中位数
	- 四分位数：取三个数据点，将数据按大小平均分为四份，得到四分位数，从小到大记为 $Q_{1,2,3}$
	- 百分位数：取 99 个数据点，将数据按大小划分为 100 份，得到百分位数

四分位数极差 (IQR) 定义为第一个和第三个四分位数之间的差，是散度的一种简单度量
$$
IQR=Q_3-Q_1
$$

#### 五数概括、盒图与离群点

对于描述倾斜分布，单个散布数值度量都不是很有用。因此我们在使用中位数之外，还需要使用两个四分位数 $Q_1$ 和 $Q_3$。一般识别可疑的离群点的规则是挑选落在第 3 个四分位数之上或者第一个四分位数之下至少 $1.5\times IQR$ 处的值。

分布的五数概括 (five-number summary) 由中位数 $Q_2$，四分位数 $Q_1$和 $Q_3$，最小和最大观测值组成，按照从小到大的次序写出。使用盒图 (boxplot) 可以直观的表示。盒图体现了五数概括：
- 盒的端点一般在四分位数上，使得盒的长度是四分位数极差 $IQR$
- 中位数用盒内的线标记
- 盒外的两条线（称为胡须）延伸到最小和最大的观测值
- 当且仅当最高和最低观测值超过或者不到 $1.5\times IQR$ 时，胡须扩展到它们，否则仅扩展到 $1.5\times IQR$ 处，超出的以离群点标出。

#### 方差和标准差

方差和标准差都是数据散布的度量，他们指出数据分布的散布程度。方差的计算方式为
$$
\sigma^2=\frac{1}{N}\sum_{i=1}^N(x_i-\bar x)^2=(\frac{1}{N}\sum_{i=1}^Nx_i^2)^2-\bar x^2
$$
标准差为 $\sigma$，方差为标准差的平方。

### 数据的基本统计描述的图形显示

基本统计描述的图形包括分位数图、分位数-分位数图、直方图和散点图。这些图像有助于可视化的审视数据，对于数据预处理是有用的。前三种只显示一元分布，而散点图显示二元分布。

## 度量数据的相似性和相异性

在诸如聚类、离群点分析和最近邻分类等数据挖掘应用中，我们需要评估对象之间的相似或者不相似程度。**簇**是数据对象的几何，使得同一个簇中对象互相相似，而与其他簇中对象相异。相似性和相异性都称为近邻性 (proximity)，如何两个对象越相似，那么他们的相似性越大。下面给出一些相似性与相异性的定义。

### 数据矩阵和相异性矩阵

对于对象 $x_i$，其属性为 $x_{ij}$，每一个对象所有属性构成的元组称为数据样本或者特征向量。下面给出两种常用的数据结构：
- 数据矩阵 (data matrix)：称为对象-属性结构，这种数据结构使用关系表的形式或者 $n\times p$ ($n$ 个对象, $p$ 个属性) 形式。每一行都对应一个对象，每一列对应一个属性。
- 相异性矩阵 (dissimilarity matrix)：称为对象-对象结构，存放 $n$ 个对象两两之间的邻近度，通常使用一个 $a\times a$ 矩阵表示。
$$
\begin{bmatrix}
0\\d(2,1)&0\\d(3,1)&d(3,2)&0\\\vdots&\vdots&\vdots\\d(n,1)&d(n,2)&\cdots&\cdots&0
\end{bmatrix}
$$
其中 $d(i,j)$ 是对象 $i$ 与对象 $j$ 之间的相异性或"差别"的度量，即距离。