---
tags:
  - 软件工程
---

# 实现

通常把编码和测试统称为实现。
- 编码：把软件设计结果翻译成某种程序设计语言书写的程序。作为软件工程的一个阶段，编码是对设计的进一步具体化，因此，程序的质量主要取决于软件设计的质量。
- 测试：测试的目的是在软件投入生产性运行之前，尽可能多地发现软中的错误。目前软件测试仍是保证软件质量的关键步骤，它是对软件规格说明、设计和编码的最后复审。

## 编码

> [!note] 选择程序设计语言的标准
> 1. 优先选择高级语言。
> 2. 系统用户的要求。
> 3. 可以使用的编译程序。
> 4. 可以得到的软件工具。
> 5. 工程规模。
> 6. 程序员的知识。
> 7. 软件可移植性要求。
> 8. 软件的应用领域。

源程序代码的逻辑简明清晰、易读易懂是好程序的一个重要标准。为了做到这一点，应该遵守以下规则：
1. 程序内部的文档。所谓程序内部的文档包括恰当的标识符，适当的注解和程序的视觉组织等。
2. 数据说明。数据说明的次序应该标准化。有次序就容易查阅，因此能够加速测试、调试和维护的过程。如果设计时使用了一个复杂的数据结构，则应该用注解说明用程序设计语言实现这个数据结构的方法和特点。
3. 语句构造：每个语句都应该简单而直接，不能为了提高效率而使程序变得过分复杂。
	- 不要为了节省空间而把多个语句写在同一行。
	- 尽量避免复杂的条件测试。
	- 尽量减少对非条件的测试。
	- 避免大量使用循环嵌套和条件嵌套。
	- 利用括号使逻辑表达式和算术表达式的运算次序清晰直观。
4. 输入输出：在设计和编写程序时应该考虑下述输入输出风格的规则：
	- 对所有输入数据进行检验。
	- 就爱你差输入项重要组合的合法性。
	- 保持输入格式简单。
	- 使用数据结束标记，不要求用户指定数据的数目。
	- 明确提示交互式输入的请求，详细说明可用的选择或边界数值。
	- 当程序设计语言对格式有严格要求时，应保持输入格式一致。
	- 良好的输出报表。
	- 给所有输出数据加标志。
5. 效率：主要指时间复杂度和空间复杂度。正在把详细设计结果翻译成程序时，总可以应用以下规则：
	- 写程序之前先简化算术和逻辑表达式
	- 仔细研究嵌套的循环，以确定是否有语句可以从内层向外转移。
	- 尽量避免使用多维数组。
	- 尽量避免使用指针和复杂的表。
	- 使用执行时间短的算术运算。
	- 不要混用不同的数据类型。
	- 尽量使用整数运算和布尔表达式

## 软件测试基础

测试的目标可以总结如下：
1. 测试是为了发现程序中的错误而执行程序的过程。
2. 好的测试方案是极可能发现迄今为止尚未发现的错误的测试。
3. 成功的测试是发现了至今为止尚未发现的错误的测试。

测试只能查找程序中的错误，不能证明程序中没有错误。

> [!note] 软件测试准则
> 1. 所有测试都应该能追溯到用户需求。
> 2. 应该远在测试开始之前就制定出测试计划。
> 3. 把 Pareto 原理应用到软件测试中，Pareto 原理说明，测试发现的错误中的 80% 很可能是由程序中 20% 的模块造成的。
> 4. 应该从小规模的测试开始，并逐步进行大规模的测试。通常，首先终点测试单个程序模块，然后把测试重点转向在集成的模块簇中寻找错误，最后在整个系统中寻找。
> 5. 穷举测试是不可能的。
> 6. 为了达到最佳的测试效果，应该由独立的第三方从事测试工作。

> [!note] 测试方法
> - 黑盒测试：已经指导产品应该具有的功能，可以通过测试来检验每个功能都能正常使用。黑盒测试又称为功能测试。
> - 白盒测试：知道产品内部工作过程，可以通过测试来检验产品内部动作是否按照规格说明书的规定正常进行。白盒测试又称为结构测试。

### 测试步骤

除非是测试一个小程序，否则一开始就把整个系统作为一个单独的实体来测试是不现实的。测试过程必须分步骤进行，后一个步骤来逻辑上是前一个步骤的继续。大型软件系统的测试过程基本上由下述几个步骤组成。
1. 模块测试：在设计地好的软件系统中，每个模块完成一个清晰定义的子功能，且这个子功能与同级其他模块之间没有相互依赖关系。
	- 模块测试的目的是保证每个模块作为一个单元能正确运行，所以模块测试又称为单元测试。
	- 在这个测试步骤中发现的往往是编码和详细设计的错误。
2. 子系统测试：子系统测试是把经过单元测试的模块放在一起形成一个子系统来测试。
	- 模块间相互协调和通信是这个测试过程中的主要问题。
	- 这个测试步骤着重测试模块的接口。
3. 系统测试：把经过测试的子系统配装成一个完成的系统来测试。
	- 这个过程不仅应该返现设计和编码的错误，还应该验证系统确实能提供需求说明书中指定的功能，而且系统的动态特性也符合预定要求。
	- 这个测试步骤中发现的往往是软件设计中的错误，也可能返现需求说明中的错误。
4. 验收测试：把软件系统作为单一的实体进行测试，测试内容与系统测试基本类似，但是是在用户积极参与下进行的。
5. 平行运行：关系重大的软件产品在验收后往往不立即投入生产性运行，而是要再经过一段平行运行时间的考验。所谓的平行运行就是同时运行新开发出来的系统和即将被它取代的旧系统，以便比较新旧两个系统的处理结果。

## 单元测试

单元测试集中监测软件设计的最小单元，即**模块**。通常，单元测试和编码属于软件过程的同一阶段。在编写出源程序代码并通过了编译程序的语法检查后，就可以用详细设计描述作指南，对重要执行通路进行测试，以便发现模块内部的错误。

通常，单元测试主要使用白盒测试技术，而且对多个模块的测试你可以并行地进行。

### 测试重点

在单元测试期间着重从下述 5 个方面对模块进行测试：
1. 模块接口：首先对通过模块接口的数据流进行测试，如果数据不能正确地进出，所有其他测试都是不切实际的。
2. 局部数据结构：对模块来说，局部数据结构是常见的错误来源。应该仔细设计测试方案，以便发现局部数据说明、初始化、默认值等方面的错误。
3. 重要的执行通路：由于通常不可能进行穷尽测试，因此在单元测试期间选择最优代表性，最可能发现错误的执行通路进行测试是十分关键的。
4. 出错处理通路：好的设计应该能遇见出现错误的条件，并且设置适当的处理错误的通路，以便在真的出现错误时执行相应的出错处理通路或干净地结束处理。当评价出错处理通路时，应该着重测试下述一些可能发生的错误：
	1. 对错误的描述是难以理解的。
	2. 记下的错误与实际遇到的错误不同。
	3. 在对错误进行处理之前，错误条件已经引起了系统干预。
	4. 对错误的处理不正确。
	5. 描述错误的信息不足以帮助确定造成错误的位置。
5. 边界条件：边界条件是单元测试中最后也是最重要的任务。软件常常在它的边界上失效。

### 代码审查

人工测试源程序可以由程序的编写者本人非正式地进行，也可以由审查小组正式进行。后者称为代码审查，它是一种非常有效的程序验证技术，对于典型的程序来说，可以查出 30%~70% 的逻辑设计错误和编码错误。审查小组最好由下述 4 人组成：
1. 组长：应该是一个很有能力的程序员，而没有直接参与这项工程。
2. 程序的设计者。
3. 程序的编写者。
4. 程序的测试者。

### 计算机测试

模块并不是一个独立的程序，因此必须为每个单元测试开发驱动软件或存根软件。
- 通常**驱动程序**也就是一个主程序，它接收测试数据，把这些数据传送给被测试的模块，并且印出有关的结果。
- **存根程序**代替被测试的模块所调用的模块。它使用被它代替的模块的结构，可能做最少量的数据操作，印出对入口的检验和操作结果，并且把控制归还给调用它的模块。

模块的内聚程度高可以简化单元测试过程。如果每个模块只完成一种功能，则需要的测试方案数目将明显减少，模块中的错误也更容易被预测和发现。

## 集成测试

集成测试是测试和组装软件的系统化技术。由模块组装成程序时有两种方法：
- 非渐增式测试：先分别测试每个模块，再把所有模块按设计要求放在一起结合成要测试的程序。
- 渐增式测试：把下一个要测试的模块通已经测试好的那些模块结合起来进行测试，测试完以后再把下一个应该测试的模块结合进来测试。

> [!note]
> 非渐增式测试一下子把所有模块放在一起，并把庞大的程序作为一个整体来测试，测试者面对的情况十分复杂。渐增式测试把程序划分为小段来构造和测试，在这个过程中比较容易定位和改正错误，对接口可以进行更加彻底的测试。因此，目前在进行集成测试时普遍采用渐增式测试方法。

### 自顶向下集成
